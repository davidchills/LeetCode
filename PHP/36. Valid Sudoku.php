<?php
class Solution {

    /**
     * 36. Valid Sudoku
     * @param String[][] $board
     * @return Boolean
     */
    function isValidSudoku($board) {
        $gridLength = count($board);
        $rowFound = array_fill(0, $gridLength, []);
        $colFound = array_fill(0, $gridLength, []);
        $subGrids = array_fill(0, $gridLength, []);
        for ($r = 0; $r < $gridLength; $r++) {
            for ($c = 0; $c < $gridLength; $c++) {
                $cell = $board[$r][$c];
                if ($cell === '.') { continue; }
                if (!is_numeric($cell) || $cell < 1 || $cell > 9) { return false; }
                
                $subGridIndex = intdiv($r, 3) * 3 + intdiv($c, 3);

                if (isset($rowFound[$r][$cell]) || isset($colFound[$c][$cell]) || isset($subGrids[$subGridIndex][$cell])) {
                    return false;
                }
                
                $rowFound[$r][$cell] = true;
                $colFound[$c][$cell] = true;
                $subGrids[$subGridIndex][$cell] = true;
            }
        }
        return true;
    }
}

$c = new Solution;

$board = [["5","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]; // Expect true

/*
$board = [["8","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]; // Expect false
*/
    
/*
$board = [[".",".","4",".",".",".","6","3","."]
        ,[".",".",".",".",".",".",".",".","."]
        ,["5",".",".",".",".",".",".","9","."]
        ,[".",".",".","5","6",".",".",".","."]
        ,["4",".","3",".",".",".",".",".","1"]
        ,[".",".",".","7",".",".",".",".","."]
        ,[".",".",".","5",".",".",".",".","."]
        ,[".",".",".",".",".",".",".",".","."]
        ,[".",".",".",".",".",".",".",".","."]]; // Expect false
*/
    
print_r($c->isValidSudoku($board));

?>